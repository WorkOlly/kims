"use strict";!function(){var e;document.querySelector("body"),$(window).outerWidth();({initialized:!1,initialize:function(){this.initialized||(this.initialized=!0,this.build())},build:function(){"mobile"==(e=this.getBrowser()).platform?document.documentElement.classList.add("mobile"):document.documentElement.classList.add("desktop"),"ie"==e.browser&&document.documentElement.classList.add("ie"),-1<navigator.userAgent.indexOf("Edge")&&document.documentElement.classList.add("edge"),-1<navigator.userAgent.search(/Macintosh/)&&document.documentElement.classList.add("macintosh"),("ie"==e.browser&&e.versionShort<9||("opera"==e.browser||"operaWebkit"==e.browser)&&e.versionShort<18||"firefox"==e.browser&&e.versionShort<30)&&alert("Обновите браузер"),null!==document.querySelector(".yearN")&&this.copyright()},copyright:function(){var e=document.querySelector(".yearN"),t=(new Date).getFullYear().toString();t.length&&(e.innerText=t)},getBrowser:function(){var e,t=navigator.userAgent,i=-1<t.search(/Edge/)?"edge":-1<t.search(/MSIE/)?"ie":-1<t.search(/Trident/)?"ie11":-1<t.search(/Firefox/)?"firefox":-1<t.search(/Opera/)?"opera":-1<t.search(/OPR/)?"operaWebkit":-1<t.search(/YaBrowser/)?"yabrowser":-1<t.search(/Chrome/)?"chrome":-1<t.search(/Safari/)?"safari":-1<t.search(/maxHhon/)?"maxHhon":void 0;switch(i){case"edge":e=t.split("Edge")[1].split("/")[1];break;case"ie":e=t.split("MSIE ")[1].split(";")[0];break;case"ie11":i="ie",e=t.split("; rv:")[1].split(")")[0];break;case"firefox":e=t.split("Firefox/")[1];break;case"opera":e=t.split("Version/")[1];break;case"operaWebkit":i="opera",e=t.split("OPR/")[1];break;case"yabrowser":e=t.split("YaBrowser/")[1].split(" ")[0];break;case"chrome":e=t.split("Chrome/")[1].split(" ")[0];break;case"safari":e=t.split("Safari/")[1].split("")[0];break;case"maxHhon":e=t.split("maxHhon/")[1]}var s,r="desktop";/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())&&(r="mobile");try{s={platform:r,browser:i,versionFull:e,versionShort:e.split(".")[0]}}catch(e){s={platform:r,browser:"unknown",versionFull:"unknown",versionShort:"unknown"}}return s}}).initialize(),$(document).on("click",".js_validate button[type=submit], .js_validate input[type=submit]",function(){var e,s,r,a,t,i,o,n,l;function c(e,t){t?(e.parents(".input-group").addClass(s).removeClass("error-email").removeClass("error-pass").removeClass(r).removeClass("error-pass"),a++,n&&0<e.val().length&&e.parents(".input-group").addClass("error-email").removeClass(s),l&&0<e.val().length&&e.parents(".input-group").addClass("error-pass").removeClass(s),o!==i&&e.parents(".input-group_pass-repeat").addClass("error-pass").removeClass(s)):e.parents(".input-group").addClass(r).removeClass(s).removeClass("error-email").removeClass("error-pass")}if(0==(e=$(this).parents(".js_validate"),s="error",r="pass",e.find("[required]"),t=void(a=0),i=e.find(".password").val(),o=e.find(".password_1").val(),l=n=!1,e.find("[required]").each(function(){switch($(this).attr("data-validate")){case void 0:c($(this),0===$.trim($(this).val()).length);break;case"email":n=!0,t=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,c($(this),!t.test($.trim($(this).val()))),n=!1;break;case"phone":t=/[0-9 -()+]{10}$/,c($(this),!t.test($.trim($(this).val())));break;case"pass":l=!0,t=/^[a-zA-Z0-9_-]{6,}$/,c($(this),!t.test($.trim($(this).val()))),l=!1;break;case"pass1":c($(this),o!==i||0===$.trim($(this).val()).length);break;case"date":t=/(0[1-9]|[12][0-9]|3[01])[- /.](0[1-9]|1[012])[- /.](19|20)\d\d$/,c($(this),!t.test($.trim($(this).val())));break;default:t=new RegExp($(this).attr("data-validate"),"g"),c($(this),!t.test($.trim($(this).val())))}}),e.find(".js_valid_radio").each(function(){for(var e=$(this).find("input[required]"),t=0,i=0;i<e.length;i++){if(!0===$(e[i]).is(":checked")){t=1;break}t=0}0===t?($(this).addClass(s).removeClass(r),a=1):$(this).addClass(r).removeClass(s)}),e.find(".js_valid_select").each(function(){for(var e=$(this).find(".custom-option"),t=0,i=0;i<e.length;i++){if(console.log($(e[i]).hasClass("selection")),!0===$(e[i]).hasClass("selection")){t=1;break}t=0}0===t?($(this).addClass(s).removeClass(r),a=1):$(this).addClass(r).removeClass(s)}),0==a||(e.find(".error input:first").focus(),!1)))return!1}),$('.js_validate input[type="file"]').on("change",function(){return function(t){var e=[".pdf"],i=t[0].files[0];function s(e){t.siblings(".text-error").text(e),t.closest(".input-group-wrap").addClass("error")}if(1!==t[0].files.length)s(t.attr("data-error-existence"));else{var r=i.name;if(i.size<5097152)for(var a=0;a<e.length;a++){if(-1!==r.indexOf(e[a])){t.closest(".input-group-wrap").removeClass("error"),t.siblings(".text-error").text("");break}s(t.attr("data-error-type"))}else s(t.attr("data-error-size"))}}($(this))});new Swiper(".js_gallery-product .swiper-container",{loop:!1,autoplay:!0,pagination:!1,slidesPerView:1,watchOverflow:!0,navigation:{nextEl:".js_gallery-product .swiper-button-next",prevEl:".js_gallery-product .swiper-button-prev"},scrollbar:{el:".js_gallery-product .swiper-scrollbar",hide:!1,dragSize:"733"}}),new Swiper(".js_gallery-partners .swiper-container",{pagination:{el:".swiper-pagination",clickable:!0},slidesPerView:2.4,loop:!0,watchOverflow:!0,spaceBetween:8,navigation:{nextEl:".js_gallery-partners .swiper-button-next",prevEl:".js_gallery-partners .swiper-button-prev"},breakpoints:{768:{pagination:!1,slidesPerView:8,spaceBetween:0,loop:!1,centeredSlides:!1}}});$(".js__scroll").mCustomScrollbar({theme:"inset-dark"});new Swiper(".service-top_text .swiper-container",{pagination:{el:".service-top_btn .swiper-pagination",type:"fraction"},slidesPerView:1,watchOverflow:!0,autoHeight:!0,navigation:{nextEl:".service-top_btn .swiper-button-next",prevEl:".service-top_btn .swiper-button-prev"}})}();var reviewgalleryThumbs=new Swiper(".js_reviews-slider-thumbs .swiper-container",{spaceBetween:8,slidesPerView:4,slideToClickedSlide:!0,direction:"vertical",loop:!0,loopedSlides:4,touchRatio:.2,autoHeight:!0,breakpoints:{993:{slidesPerView:5,spaceBetween:24,direction:"horizontal"}}}),reviewgalleryTop=new Swiper(".js_reviews-slider-top .swiper-container",{spaceBetween:10,pagination:{el:".reviews-slides-btn .swiper-pagination",type:"fraction"},navigation:{nextEl:".reviews-slider-nav .swiper-button-next",prevEl:".reviews-slider-nav .swiper-button-prev"},loop:!0,loopedSlides:4,thumbs:{swiper:reviewgalleryThumbs}});function modal(e){$.fancybox.open({src:e,type:"inline"})}$(document).ready(function(){var e,t,h,i,s,r;$(".js-form-label").length&&($(".js-form-label input, .js-form-label textarea").each(function(){0===$(this).val().length?$(this).attr("data-empty","true"):$(this).attr("data-empty","false")}),$(".js-form-label textarea, .js-form-label input").on("blur",function(e){$(e.currentTarget).attr("data-empty",!e.currentTarget.value),console.log("rnj pflbm")})),$(".js-show-search").length&&($(document).on("click",".js-show-search",function(){$(".search-block-wrap").toggleClass("show"),$("body").toggleClass("show-search")}),$(document).on("click",".js-overlay-search, .search-close",function(){$(".search-block-wrap").removeClass("show"),$("body").removeClass("show-search"),$(".search-block .input-group").removeClass("error")}),$(".js-search").on("input",function(){2<$(this).val().length?$(".search-block").addClass("show-delete-btn"):$(".search-block").removeClass("show-delete-btn")}),$(document).on("click",".js-delete-val",function(){$(".js-search").val(""),$(".search-block").removeClass("show-delete-btn")}),1<$(".search-result__item").length&&$(".js-overlay-search").addClass("show")),0<$(".js-timeline-contents").length&&($(".about-timeline"),e=new Swiper(".js-timeline-contents",{navigation:{nextEl:".about-timeline-button--next",prevEl:".about-timeline-button--prev"},grabCursor:!0,spaceBetween:0,autoHeight:!0,slidesPerView:"1",centeredSlides:!0}),t=new Swiper(".js-timeline-dates",{spaceBetween:0,pagination:{el:".about-timeline .swiper-pagination",clickable:!0},centeredSlides:!0,slidesPerView:"4",touchRatio:.2,slideToClickedSlide:!0,breakpoints:{767:{slidesPerView:"5",pagination:!1}}}),(e.controller.control=t).controller.control=e),$("#map").length&&(i=cities,s={lat:$("#map").data("maplat"),lng:$("#map").data("maplng")},r={zoom:5,center:s,mapTypeId:google.maps.MapTypeId.ROADMAP},h=new google.maps.Map(document.getElementById("map"),r),i.forEach(function(e,t){var i=e.coordinates.split(","),s=new google.maps.InfoWindow({content:e.address}),r=new google.maps.Marker({map:h,position:new google.maps.LatLng(i[0],i[1]),icon:{url:"images/marker.svg",scaledSize:new google.maps.Size(50,60)}});google.maps.event.addListener(r,"click",function(){s.open(h,r),h.setZoom(17),h.panTo(r.position)});var a=$(".choose-city__item-wrap"),o=e.address,n=e.coordinates,l=e.time,c=e.city_id;for(var p in a.find(".choose-city__adress").text(o),a.find(".js-show-address").attr("data-coord",n),a.find(".choose-city__item").attr("data-city",c),$(".choose-city__item-wrap .schedule-col .schedule-row").remove(),l){var d='<div class="schedule-row">\n                  <div class="day">'.concat(p,'</div>\n                  <div class="time">').concat(l[p],"</div>\n                </div>");a.find(".schedule-col").append(d)}$(".choose-city__wrap").append($(".choose-city__item-wrap").html())}),$(".js-scroll-city").mCustomScrollbar({advanced:{autoExpandHorizontalScroll:!1,updateOnContentResize:!0}}),$(document).on("change",".js-select-city",function(){var e=$(this).find(":selected").attr("data-coord").split(/\s*,\s*/),t=new google.maps.LatLng(parseFloat(e[0]),parseFloat(e[1]));h.setZoom(11),h.panTo(t),h.setCenter(t),$(this).find(":selected").hasClass("all-cities")&&(h.setZoom(5),h.setCenter(s)),function(){var e=$(".js-select-city").find(":selected").attr("data-city"),t=".choose-city__item",i=$(t);"all"!==e&&(t+='[data-city="'+e+'"]');var s=i.filter(t);$(i).not(s).hide(),s.show(),457<$(".js-scroll-city .choose-city__wrap").height()?$(".js-scroll-city").mCustomScrollbar():$(".js-scroll-city").mCustomScrollbar("destroy")}()})),$(".js-select").length&&$(".js-select").select2({minimumResultsForSearch:1/0})}),$(document).ready(function(){var e=0;$(".js_height-block .height").each(function(){$(this).height()>e&&(e=$(this).height())}),$(".js_height-block .height").height(e),$(".banner__form--block .main-btn").on("click",function(){$(".banner__form--block").addClass("show")}),$(".banner__form--block .banner__close").on("click",function(){$(".banner__form--block").removeClass("show")}),$(".header__mn-close .btn-burger").on("click",function(){$("body").addClass("open-menu"),$(".header__mn-open").addClass("show")}),$(".header__mn-open .btn-burger--close").on("click",function(){$("body").removeClass("open-menu"),$(".header__mn-open").removeClass("show")})}),$(".icon-open--submenu").on("click",function(){$(this).parents(".js-item-with-submenu").toggleClass("active")}),$(".upload").each(function(){var e,t=$(this),i=t.siblings("span");t.change(function(){e=t.val(),i.text(e)})}),$(function(){var e=$(".price-filter"),t=$(".price-filter a"),i=$(".price-body .price-choice__wrap"),s=$(".js-all-price.active").text();e.on("click touch",".js-all-price",function(e){e.preventDefault(),t.removeClass("active"),$(this).addClass("active"),$(".price-choice_name").text(s),i.hide(),i.fadeIn(700)})}),$(".price-filter__wrap .js-filter-price").click(function(){$(".js-all-price").removeClass("active"),$(".price-filter__wrap .js-filter-price").removeClass("active").eq($(this).index()).addClass("active"),$(".price-choice__wrap").hide().eq($(this).index()).fadeIn()}),$(".js-filter-price").click(function(){var e=$(".js-filter-price.active").text();$(".price-choice_name").text(e)}),$(".price-choice__wrap .input-price_variable").change(function(){$(this).prop("checked")&&($(".price-filter__wrap .js-filter-price").eq($(this).index()).addClass("checked-service"),$(".price-choice__wrap").eq($(this).index()))}),function(e){e.fn.truncateText=function(){return this.each(function(){!function(e){var t=e.text(),i=e.height(),s=e.clone();s.css({position:"absolute",visibility:"hidden",height:"auto"}),e.after(s);for(var r=t.length-1;0<=r&&s.height()>i;--r)s.text(t.substring(0,r)+"...");e.text(s.text()),s.remove()}(e(this))})}}(jQuery),$(function(){$(".service-top_text .swiper-slide").truncateText()}),$(function(){var e=new Date,t=e.getMonth()+1,i=e.getDate(),s=e.getFullYear();t<10&&(t="0"+t.toString()),i<10&&(i="0"+i.toString());var r=s+"-"+t+"-"+i;$("input[type=date]").attr("min",r)});